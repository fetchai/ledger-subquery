{"version":3,"file":"ready.service.js","sourceRoot":"","sources":["../../src/meta/ready.service.ts"],"names":[],"mappings":";AAAA,gEAAgE;AAChE,sCAAsC;;;;;;;;;;;;AAEtC,2CAA4C;AAC5C,yDAAgD;AAChD,8CAA+D;AAG/D,IAAa,YAAY,GAAzB,MAAa,YAAY;IAGvB;QACE,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;IACtB,CAAC;IAGD,WAAW,CAAC,EAAE,KAAK,EAAyB;QAC1C,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;IACtB,CAAC;IAED,IAAI,KAAK;QACP,OAAO,IAAI,CAAC,MAAM,CAAC;IACrB,CAAC;CACF,CAAA;AAPC;IADC,IAAA,uBAAO,EAAC,qBAAY,CAAC,KAAK,CAAC;;;;+CAG3B;AAVU,YAAY;IADxB,IAAA,mBAAU,GAAE;;GACA,YAAY,CAexB;AAfY,oCAAY","sourcesContent":["// Copyright 2020-2022 OnFinality Limited authors & contributors\n// SPDX-License-Identifier: Apache-2.0\n\nimport { Injectable } from '@nestjs/common';\nimport { OnEvent } from '@nestjs/event-emitter';\nimport { EventPayload, IndexerEvent } from '../indexer/events';\n\n@Injectable()\nexport class ReadyService {\n  private _ready: boolean;\n\n  constructor() {\n    this._ready = false;\n  }\n\n  @OnEvent(IndexerEvent.Ready)\n  handleReady({ value }: EventPayload<boolean>): void {\n    this._ready = value;\n  }\n\n  get ready() {\n    return this._ready;\n  }\n}\n"]}