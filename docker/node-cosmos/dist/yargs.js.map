{"version":3,"file":"yargs.js","sourceRoot":"","sources":["../src/yargs.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright 2020-2022 OnFinality Limited authors & contributors\n// SPDX-License-Identifier: Apache-2.0\n\nimport { hideBin } from 'yargs/helpers';\nimport yargs from 'yargs/yargs';\n\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\nexport function getYargsOption() {\n  return yargs(hideBin(process.argv)).options({\n    subquery: {\n      alias: 'f',\n      demandOption: true,\n      default: process.cwd(),\n      describe: 'Local path or IPFS cid of the subquery project',\n      type: 'string',\n    },\n    'subquery-name': {\n      deprecated: true,\n      demandOption: false,\n      describe: 'Name of the subquery project',\n      type: 'string',\n    },\n    config: {\n      alias: 'c',\n      demandOption: false,\n      describe: 'Specify configuration file',\n      type: 'string',\n    },\n    local: {\n      deprecated: true,\n      type: 'boolean',\n      demandOption: false,\n      describe: 'Use local mode',\n    },\n    'force-clean': {\n      type: 'boolean',\n      demandOption: false,\n      describe: 'Force clean the database, dropping project schemas and tables',\n    },\n    'db-schema': {\n      demandOption: false,\n      describe: 'Db schema name of the project',\n      type: 'string',\n    },\n    unsafe: {\n      type: 'boolean',\n      demandOption: false,\n      describe: 'Allows usage of any built-in module within the sandbox',\n    },\n    subscription: {\n      demandOption: false,\n      describe: 'Enable subscription by create notification triggers',\n      type: 'boolean',\n      default: false,\n    },\n    'batch-size': {\n      demandOption: false,\n      describe: 'Batch size of blocks to fetch in one round',\n      type: 'number',\n    },\n    'scale-batch-size': {\n      type: 'boolean',\n      demandOption: false,\n      describe: 'scale batch size based on memory usage',\n      default: false,\n    },\n    timeout: {\n      demandOption: false,\n      describe: 'Timeout for indexer sandbox to execute the mapping functions',\n      type: 'number',\n    },\n    debug: {\n      demandOption: false,\n      describe:\n        'Show debug information to console output. will forcefully set log level to debug',\n      type: 'boolean',\n      default: false,\n    },\n    profiler: {\n      demandOption: false,\n      describe: 'Show profiler information to console output',\n      type: 'boolean',\n      default: false,\n    },\n    'network-endpoint': {\n      demandOption: false,\n      type: 'string',\n      describe: 'Blockchain network endpoint to connect',\n    },\n    'output-fmt': {\n      demandOption: false,\n      describe: 'Print log as json or plain text',\n      type: 'string',\n      choices: ['json', 'colored'],\n    },\n    'log-level': {\n      demandOption: false,\n      describe: 'Specify log level to print. Ignored when --debug is used',\n      type: 'string',\n      choices: ['fatal', 'error', 'warn', 'info', 'debug', 'trace', 'silent'],\n    },\n    migrate: {\n      demandOption: false,\n      describe: 'Migrate db schema (for management tables only)',\n      type: 'boolean',\n      default: false,\n    },\n    'timestamp-field': {\n      demandOption: false,\n      describe: 'Enable/disable created_at and updated_at in schema',\n      type: 'boolean',\n      default: false,\n    },\n    'network-dictionary': {\n      alias: 'd',\n      demandOption: false,\n      describe: 'Specify the dictionary api for this network',\n      type: 'string',\n    },\n    'mmr-path': {\n      alias: 'm',\n      demandOption: false,\n      describe: 'Local path of the merkle mountain range (.mmr) file',\n      type: 'string',\n    },\n    'proof-of-index': {\n      demandOption: false,\n      describe: 'Enable/disable proof of index',\n      type: 'boolean',\n      default: false,\n    },\n    ipfs: {\n      demandOption: false,\n      describe: 'IPFS gateway endpoint',\n      type: 'string',\n    },\n    port: {\n      alias: 'p',\n      demandOption: false,\n      describe: 'The port the service will bind to',\n      type: 'number',\n    },\n    'disable-historical': {\n      demandOption: false,\n      default: true,\n      describe: 'Disable storing historical state entities',\n      type: 'boolean',\n    },\n  });\n}\n\nexport function argv(arg: string): unknown {\n  return getYargsOption().argv[arg];\n}\n"]}